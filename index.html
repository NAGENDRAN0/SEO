<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NQ7L2DFGRK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NQ7L2DFGRK');
</script>

	
    <title>Document</title>
    <style>
      body {
        background-color: black;
        color: white;
      }

      .title-game {
        font-size: 20px;
      }

      .move-icon {
        height: 50px;
        width: 50px;
      }

      .image-button {
        margin-top: 15px;
        height: 100px;
        width: 100px;
        border: 2px solid white;
        background: transparent;
        border-radius: 50px;
        margin-right: 5px;
        cursor: pointer;
      }

      .move-score {
        margin-top: 25px;
      }

      .reset-button {
        padding: 8px 25px;
        cursor: pointer;
        font-size: 15px;
      }
    </style>
  </head>
  <body>
    <div class="title-game">Rock Papper scissors</div>
    <button
      onclick="
            res('rock')     
           
          "
      class="image-button"
    >
      <img src="rock-emoji.png" alt="" class="move-icon" />
    </button>
    <button
      onclick="
         res('paper')
        
       "
      class="image-button"
    >
      <img src="paper-emoji.png" alt="" class="move-icon" />
    </button>

    <button
      onclick="
    res('scissors');
    //   if(finalresult==='win')
    //   score.win++;
    // else (finalresult==='lose')
    // score.lose++;
    //    console.log(final);

    "
      class="image-button"
    >
      <img src="scissors-emoji.png" alt="" class="move-icon" />
    </button>

    <p class="js-status"></p>
    <p class="js-score move-score"></p>
    <p class="js-move move-field"></p>

    <button
      onclick="
    // score.win=0,
    // score.lose=0,
    // score.tie=0
    // localStorage.removeItem('score')
    // alert('Reset')
    //reset();
    resetAlert();

    "
      class="reset-button"
    >
      Reset
    </button>

    <button class="js-auto reset-button">Auto Play</button>
    <p class="js-reset-score-alert"></p>
    <script>
      let rock = "rock";
      let paper = "paper";
      let scissors = "scissors";
      let result = "";
      let finalresult;
      let score = JSON.parse(localStorage.getItem("score")) || {
        win: 0,
        lose: 0,
        tie: 0,
      };

      updateScore();

      function reset() {
        (score.win = 0), (score.lose = 0), (score.tie = 0);
        localStorage.removeItem("score");
        document.querySelector(
          ".js-score"
        ).innerHTML = `Win ${score.win}, Lose, ${score.lose}, Tie ${score.tie}`;
        document.querySelector(".js-reset-score-alert").innerHTML = "";
      }

      function resetAlert() {
        document.querySelector(
          ".js-reset-score-alert"
        ).innerHTML = `Are you sure you want to reset the Score? <button onclick="reset()">Yes</button> <button onclick="emptyNo()">No</button>`;
      }

      function emptyNo() {
        document.querySelector(".js-reset-score-alert").innerHTML = "";
      }

      document.addEventListener("keydown", (event) => {
        if (event.key === "Backspace") {
          (score.win = 0), (score.lose = 0), (score.tie = 0);
          localStorage.removeItem("score");
          document.querySelector(
            ".js-score"
          ).innerHTML = `Win ${score.win}, Lose, ${score.lose}, Tie ${score.tie}`;
        }
      });

      function updateScore() {
        document.querySelector(
          ".js-score"
        ).innerHTML = `Win ${score.win}, Lose, ${score.lose}, Tie ${score.tie}`;
      }

      function pick() {
        const random = Math.random();
        if (random >= 0 && random < 1 / 3) {
          result = rock;
          console.log(result);
        } else if (random > 1 / 3 && random < 2 / 3) {
          result = paper;

          console.log(result);
        } else {
          result = scissors;

          console.log(result);
        }
      }

      let isAuto = false;
      let interid;
      document.querySelector(".js-auto").addEventListener("click", () => {
        if (!isAuto) {
          interid = setInterval(() => {
            const moves = ["rock", "paper", "scissors"];
            const pre = moves[Math.floor(Math.random() * moves.length)];
            res(pre);
          }, 1000);
          isAuto = true;
        } else {
          clearInterval(interid);
          isAuto = false;
        }
        let stp = document.querySelector(".js-auto");
        if (stp.innerHTML === "Auto Play") {
          stp.innerHTML = "Stop play";
        } else if (stp.innerHTML === "Stop play") {
          stp.innerHTML = "Auto Play";
        }
      });

      document.addEventListener("keypress", (event) => {
        if (event.key === "a") {
          if (!isAuto) {
            interid = setInterval(() => {
              const moves = ["rock", "paper", "scissors"];
              const pre = moves[Math.floor(Math.random() * moves.length)];
              res(pre);
            }, 1000);
            isAuto = true;
          } else {
            clearInterval(interid);
            isAuto = false;
          }
          let stp = document.querySelector(".js-auto");
          if (stp.innerHTML === "Auto Play") {
            stp.innerHTML = "Stop play";
          } else if (stp.innerHTML === "Stop play") {
            stp.innerHTML = "Auto Play";
          }
        }
      });

      function res(pre) {
        pick();
        if (pre === "paper") {
          if (result === "rock") {
            finalresult = "win";
          } else if (result === "scissors") {
            finalresult = "lose";
          } else {
            finalresult = "tie";
          }
        } else if (pre === "rock") {
          if (result === "scissors") {
            finalresult = "win";
          } else if (result === "paper") {
            finalresult = "lose";
          } else {
            finalresult = "tie";
          }
        } else if (pre === "scissors") {
          if (result === "rock") {
            finalresult = "lose";
          } else if (result === "paper") {
            finalresult = "win";
          } else {
            finalresult = "tie";
          }
        }

        if (finalresult === "win") {
          score.win++;
        } else if (finalresult === "lose") {
          score.lose++;
        } else {
          score.tie++;
        }
        localStorage.setItem("score", JSON.stringify(score));

        updateScore();
        document.querySelector(".js-status").innerHTML = finalresult;
        document.querySelector(
          ".js-move"
        ).innerHTML = ` your <img src="${pre}-emoji.png" alt="" class="move-icon" /> computer
      <img src="${result}-emoji.png" alt="" class="move-icon" />`;

        //         alert(`your move ${pre} Computer move ${result}, you ${finalresult}
        // win ${score.win}, lose ${score.lose} tie ${score.tie}`);
      }
    </script>
  </body>
</html>
